# Horalix View Environment Configuration
# ========================================
# Copy this file to .env and update the values for your environment.
#
# For Docker Compose: Place .env in the repo root OR in the docker/ directory.
# For local development: Also copy to backend/.env
#
# Generate a secure SECRET_KEY:
#   Linux/macOS: openssl rand -hex 32
#   Windows:     python -c "import secrets; print(secrets.token_hex(32))"

# ============================================
# REQUIRED SETTINGS (must be configured)
# ============================================

# Security - CRITICAL: Generate a unique key for production!
# WARNING: Application will fail to start in production without a secure key.
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32

# ============================================
# ENVIRONMENT SETTINGS
# ============================================

# Environment mode: development, staging, production
# - development: Debug mode, default users created, relaxed validation
# - production: Strict validation, requires secure SECRET_KEY
ENVIRONMENT=development

# Debug mode (only enable in development)
DEBUG=true

# ============================================
# APPLICATION SETTINGS
# ============================================

APP_NAME=Horalix View
APP_VERSION=1.0.0

# Server settings
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ============================================
# DATABASE SETTINGS
# ============================================

# For Docker: Use 'postgres' as host (Docker service name)
# For local: Use 'localhost'
DB_HOST=localhost
DB_PORT=5432
DB_USER=horalix
DB_PASSWORD=horalix
DB_NAME=horalix_view

# Complete Database URL (overrides individual settings if set)
# For Docker: postgresql+asyncpg://horalix:horalix@postgres:5432/horalix_view
# For local:  postgresql+asyncpg://horalix:horalix@localhost:5432/horalix_view
DATABASE_URL=postgresql+asyncpg://horalix:horalix@localhost:5432/horalix_view

# ============================================
# REDIS SETTINGS
# ============================================

# For Docker: Use 'redis' as host (Docker service name)
# For local: Use 'localhost'
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Complete Redis URL (overrides individual settings if set)
# For Docker: redis://redis:6379/0
# For local:  redis://localhost:6379/0
REDIS_URL=redis://localhost:6379/0

# ============================================
# DICOM SETTINGS
# ============================================

DICOM_AE_TITLE=HORALIX_VIEW
DICOM_PORT=11112
DICOM_STORAGE_DIR=./storage/dicom

# ============================================
# AI MODEL SETTINGS
# ============================================

# Directory where model weights are stored
AI_MODELS_DIR=./models

# Device for inference: 'cuda', 'cuda:0', 'cuda:1', or 'cpu'
AI_DEVICE=cpu

# Batch size (reduce if running out of memory)
AI_BATCH_SIZE=4

# Enable mixed precision (FP16) for faster inference
AI_MIXED_PRECISION=true

# Enable AI features
AI_ENABLED=true

# Detection confidence threshold
AI_CONFIDENCE_THRESHOLD=0.5

# Maximum concurrent inference jobs
AI_MAX_CONCURRENT_JOBS=2

# ============================================
# SECURITY & COMPLIANCE
# ============================================

# JWT token expiration (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=60
ALGORITHM=HS256

# HIPAA compliance mode
COMPLIANCE_HIPAA_MODE=true
COMPLIANCE_AUDIT_LOGGING_ENABLED=true
COMPLIANCE_ENCRYPTION_AT_REST=true

# ============================================
# CORS SETTINGS
# ============================================

# Allowed CORS origins (JSON array format)
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
